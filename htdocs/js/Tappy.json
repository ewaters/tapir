{
   "structs" : [
      {
         "fieldSpec" : [
            [
               "index",
               "name",
               "optional",
               "type",
               "validateSpec"
            ],
            [
               "1",
               "id",
               false,
               "Tappy.account_id",
               []
            ],
            [
               "2",
               "allocation",
               false,
               "i32",
               []
            ],
            [
               "3",
               "is_admin",
               true,
               "bool",
               []
            ]
         ],
         "name" : "account",
         "baseClass" : "Tapir.Type.Struct"
      },
      {
         "fieldSpec" : [
            [
               "index",
               "name",
               "optional",
               "type",
               "validateSpec"
            ],
            [
               "1",
               "code",
               false,
               "i16",
               []
            ],
            [
               "2",
               "message",
               false,
               "string",
               []
            ]
         ],
         "name" : "genericCode",
         "baseClass" : "Tapir.Type.Exception"
      },
      {
         "fieldSpec" : [
            [
               "index",
               "name",
               "optional",
               "type",
               "validateSpec"
            ],
            [
               "1",
               "code",
               false,
               "i16",
               []
            ],
            [
               "2",
               "message",
               false,
               "string",
               []
            ]
         ],
         "name" : "insufficientResources",
         "baseClass" : "Tapir.Type.Exception"
      }
   ],
   "namespace" : "Tappy",
   "services" : [
      {
         "methods" : [
            "createAccount",
            "getAccount"
         ],
         "name" : "Accounts",
         "baseName" : "Tappy.Accounts"
      }
   ],
   "methods" : [
      [
         "name",
         "serviceName",
         "fieldSpec",
         "spec"
      ],
      [
         "createAccount",
         "Accounts",
         [
            [
               "1",
               "username",
               false,
               "Tappy.username",
               []
            ],
            [
               "2",
               "password",
               false,
               "Tappy.password",
               [
                  {
                     "high" : null,
                     "low" : "1",
                     "type" : "length"
                  }
               ]
            ],
            [
               "3",
               "is_admin",
               true,
               "bool",
               []
            ]
         ],
         {
            "exceptions" : [
               [
                  "1",
                  "insufficient",
                  false,
                  "Tappy.insufficientResources",
                  []
               ],
               [
                  "2",
                  "code",
                  false,
                  "Tappy.genericCode",
                  []
               ]
            ],
            "returns" : "Tappy.account"
         }
      ],
      [
         "getAccount",
         "Accounts",
         [
            [
               "1",
               "username",
               false,
               "Tappy.username",
               []
            ]
         ],
         {
            "exceptions" : [
               [
                  "1",
                  "code",
                  false,
                  "Tappy.genericCode",
                  []
               ]
            ],
            "returns" : "Tappy.account"
         }
      ]
   ],
   "typedefs" : [
      [
         "name",
         "type",
         "validateSpec"
      ],
      [
         "account_id",
         "i32",
         [
            {
               "high" : "10000",
               "low" : "1",
               "type" : "range"
            }
         ]
      ],
      [
         "password",
         "string",
         [
            {
               "pattern" : "^[^ ]+$",
               "type" : "regex"
            }
         ]
      ],
      [
         "username",
         "string",
         [
            {
               "high" : "8",
               "low" : "1",
               "type" : "length"
            }
         ]
      ]
   ]
}

